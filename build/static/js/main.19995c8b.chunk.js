(this["webpackJsonpstarwars-db-client"]=this["webpackJsonpstarwars-db-client"]||[]).push([[0],{1083:function(e,t,a){},1084:function(e,t,a){},1085:function(e,t,a){},1086:function(e,t,a){},1087:function(e,t,a){},1088:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),o=a.n(c),i=a(1),s=a(2),l=a(4),u=a(3),m=a(5),p=a(11),d=n.a.createContext(),f=[{to:"/",title:"Home",exact:!0},{to:"/people",title:"People"},{to:"/planets",title:"Planets"},{to:"/starships",title:"Starships"}];function h(e){var t=e.serviceName,a=e.onServiceChange;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement(p.b,{to:"/",exact:!0,className:"navbar-brand"},"StarWars Database"),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor02"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},f.map((function(e){return n.a.createElement(p.b,{to:e.to,exact:e.exact,key:e.to,className:"nav-link"},e.title)}))),n.a.createElement("form",{className:"form-inline ml-3"},"Current API: ",t,n.a.createElement("button",{className:"btn btn-sm btn-outline-success ml-1",type:"button",onClick:a},"Switch"))))}h.defaultProps={serviceName:"Unknown",toggleService:function(){}};var g=a(6),v=a.n(g),b=a(7),y=a.n(b),E=function e(){Object(i.a)(this,e),this.baseUrl="",this.getPerson=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))},this.getAllPeople=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))},this.getPlanet=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))},this.getAllPlanets=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))},this.getShip=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))},this.getAllShips=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TypeError("Must override method");case 1:case"end":return e.stop()}}))}},j=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"extractId",value:function(e){return e.url.match(/\/(\d+)\/$/)[1]}},{key:"transformPlanet",value:function(e){return e}},{key:"transformPerson",value:function(e){return e}},{key:"transformShip",value:function(e){return e}}]),e}(),O=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"makePerson",value:function(e){var t=v.a.random.arrayElement(["male","female"]);return{id:e,name:v.a.name.findName(null,null,t),height:v.a.random.number({min:150,max:200}),mass:v.a.random.number({min:50,max:200}),hairColor:v.a.internet.color(),skinColor:v.a.internet.color(),eyeColor:v.a.internet.color(),birthYear:"".concat(v.a.random.number(30),"BBY"),gender:t}}},{key:"makePlanet",value:function(e){return{id:e,name:v.a.name.firstName(),population:v.a.random.number(1e8),diameter:v.a.random.number(1e5),rotationPeriod:v.a.random.number(40),orbitalPeriod:v.a.random.number(1e3),climate:"",terrain:"",surfaceWater:v.a.random.number(100)}}},{key:"makeShip",value:function(e){return{id:e,name:v.a.name.firstName(),mass:v.a.random.number({min:50,max:200}),model:v.a.name.firstName(),manufacturer:v.a.name.firstName(),class:v.a.name.firstName(),cost:v.a.random.number({min:5e5,max:2e8}),hyperdrive:v.a.random.number({min:1,max:10}),mglt:v.a.random.number({min:10,max:20}),length:v.a.random.number({min:1e5,max:2e8}),cargo:v.a.random.number({min:1e3,max:1e5}),crew:v.a.random.number({min:1,max:1e5}),passengers:v.a.random.number({min:1,max:1e5}),imageSrc:"https://starwars-visualguide.com/assets/img/starships/".concat(e,".jpg")}}}]),e}(),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).generator=new O,a._delay="500",a.getAllPeople=function(){var e=Array.from(Array(10),(function(e,t){return a.generator.makePerson(t+1)}));return a._delayed(e)},a.getPerson=function(e){return a._delayed(a.generator.makePerson(e))},a.getAllPlanets=function(){var e=Array.from(Array(10),(function(e,t){return a.generator.makePlanet(t+1)}));return a._delayed(e)},a.getPlanet=function(e){return a._delayed(a.generator.makePlanet(e))},a.getAllShips=function(){var e=Array.from(Array(10),(function(e,t){return a.generator.makeShip(t+1)}));return a._delayed(e)},a.getShip=function(e){return a._delayed(a.generator.makeShip(e))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"_delayed",value:function(e){var t=this;return new Promise((function(a,r){setTimeout((function(){a(e)}),t._delay)}))}}],[{key:"MAX_PLANETS",get:function(){return 61}}]),t}(E),S=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"extractId",value:function(e){return e.url.match(/\/(\d+)\/$/)[1]}},{key:"transformPlanet",value:function(e){var t=this.extractId(e);return{id:t,name:e.name,population:e.population,diameter:e.diameter,rotationPeriod:e.rotation_period,orbitalPeriod:e.orbital_period,climate:e.climate,terrain:e.terrain,surfaceWater:e.surface_water,imageSrc:"https://starwars-visualguide.com/assets/img/planets/".concat(t,".jpg")}}},{key:"transformPerson",value:function(e){var t=this.extractId(e);return{id:t,name:e.name,height:e.height,mass:e.mass,hairColor:e.hair_color,skinColor:e.skin_color,eyeColor:e.eye_color,birthYear:e.birth_year,gender:e.gender,imageSrc:"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg")}}},{key:"transformShip",value:function(e){var t=this.extractId(e);return{id:t,name:e.name,model:e.model,manufacturer:e.manufacturer,class:e.starship_class,cost:e.cost_in_credits,hyperdrive:e.hyperdrive_rating,mglt:e.MGLT,length:e.length,cargo:e.cargo_capacity,crew:e.crew,passengers:e.passengers,imageSrc:"https://starwars-visualguide.com/assets/img/starships/".concat(t,".jpg")}}}]),t}(j),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).baseUrl="https://swapi.co/api",a.transformer=new S,a.getAllPeople=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(a.getResource("/people"));case 2:return e=t.sent,t.abrupt("return",e.results.map((function(e){return a.transformer.transformPerson(e)})));case 4:case"end":return t.stop()}}))},a.getPerson=function(e){var t;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(a.getResource("/people/".concat(e)));case 2:return t=r.sent,r.abrupt("return",a.transformer.transformPerson(t));case 4:case"end":return r.stop()}}))},a.getAllPlanets=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(a.getResource("/planets"));case 2:return e=t.sent,t.abrupt("return",e.results.map((function(e){return a.transformer.transformPlanet(e)})));case 4:case"end":return t.stop()}}))},a.getPlanet=function(e){var t;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(a.getResource("/planets/".concat(e)));case 2:return t=r.sent,r.abrupt("return",a.transformer.transformPlanet(t));case 4:case"end":return r.stop()}}))},a.getAllShips=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(a.getResource("/starships"));case 2:return e=t.sent,t.abrupt("return",e.results.map((function(e){return a.transformer.transformShip(e)})));case 4:case"end":return t.stop()}}))},a.getShip=function(e){var t;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(a.getResource("/starships/".concat(e)));case 2:return t=r.sent,r.abrupt("return",a.transformer.transformShip(t));case 4:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getResource",value:function(e){var t,a;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(fetch(this.baseUrl+e));case 2:if((t=r.sent).ok){r.next=5;break}throw new Error("Could not fetch ".concat(e,", status is ").concat(t.status));case 5:return r.next=7,y.a.awrap(t.json());case 7:return a=r.sent,r.abrupt("return",a);case 9:case"end":return r.stop()}}),null,this)}}],[{key:"MAX_PLANETS",get:function(){return 61}}]),t}(E),N=a(10),P=a(22);a(1083),a(1084);function x(){return n.a.createElement("div",{className:"spinner-border text-primary",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))}var I=function(e){return e.error,n.a.createElement("div",{className:"alert alert-danger error-message"},n.a.createElement("h4",{className:"alert-heading"},"Warning!"),n.a.createElement("p",{className:"mb-0"},"Something went wrong. Try again later."))},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isLoading:!0,error:null,planet:{id:null,name:"planet",population:0,diameter:"",rotationPeriod:"",orbitalPeriod:"",climate:"",terrain:"",surfaceWater:""}},a.onError=function(e){a.setState({isLoading:!1,error:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"updateData",value:function(){var e=this;(0,this.props.getData)(Math.floor(10*Math.random())+1).then((function(t){e.setState({planet:t,isLoading:!1})})).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,r=e.planet;return n.a.createElement("div",{className:"random-planet card w-50"},a&&n.a.createElement(I,{error:a}),t&&n.a.createElement("div",{className:"ml-auto mr-auto align-self-center"},n.a.createElement(x,null)),!t&&!a&&n.a.createElement(A,{planet:r}))}}]),t}(r.Component);function A(e){var t=e.planet,a=(t.id,t.imageSrc),c=t.name,o=Object(P.a)(t,["id","imageSrc","name"]),i=Object.keys(o).map((function(e){return n.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:e},e,n.a.createElement("span",{className:"badge badge-primary"},o[e]))}));return n.a.createElement(r.Fragment,null,n.a.createElement("header",{className:"card-header"},c),n.a.createElement("div",{className:"card-body d-flex justify-content-between"},n.a.createElement("div",{className:"planet-image w-25"},n.a.createElement("img",{src:a,className:"img-fluid",alt:"Planet"})),n.a.createElement("ul",{className:"list-group ml-3 flex-grow-1"},i)))}var D=a(21),L=function(e){return function(t){return function(a){function r(){return Object(i.a)(this,r),Object(l.a)(this,Object(u.a)(r).apply(this,arguments))}return Object(m.a)(r,a),Object(s.a)(r,[{key:"render",value:function(){var a=this;return n.a.createElement(d.Consumer,null,(function(r){var c={};if("function"===typeof e)c=e(r);else for(var o=0,i=Object.entries(e);o<i.length;o++){var s=i[o],l=Object(D.a)(s,2),u=l[0],m=l[1];c[u]=r[m]}return n.a.createElement(t,Object.assign({},a.props,c))}))}}]),r}(r.Component)}},_=L({getData:"getPlanet"})(C),M=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Random Planet"),n.a.createElement(_,null))}}]),t}(r.Component);function T(e){var t=e.left,a=e.right;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4"},t),n.a.createElement("div",{className:"col-6"},a))}a(1085);var R=function(e){var t=e.item,a=e.field,r=e.label,c=e.children,o="function"===typeof c?c(t[a]):t[a];return n.a.createElement("li",{className:"list-group-item"},r,": ",o)},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={item:null,isLoading:!1,error:null},a.onError=function(e){a.setState({isLoading:!1,error:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){e.itemId===this.props.itemId&&e.getData===this.props.getData||this.updateData()}},{key:"updateData",value:function(){var e=this,t=this.props,a=t.itemId,r=t.getData;a&&(this.setState({isLoading:!0,error:null}),r(a).then((function(t){e.setState({item:t,isLoading:!1})})).catch(this.onError))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,r=e.item;return a?n.a.createElement(I,{error:a}):t?n.a.createElement(x,null):r?n.a.createElement("div",{className:"card"},r.imageSrc&&n.a.createElement("div",{className:"image-wrapper"},n.a.createElement("img",{src:r.imageSrc,class:"img-fluid",alt:"Item Details"})),n.a.createElement("h3",{className:"card-header"},r.name),n.a.createElement("div",{className:"card-body"},n.a.createElement("ul",{className:"list-group item-details"},n.a.Children.map(this.props.children,(function(e){return n.a.cloneElement(e,{item:r})}))))):n.a.createElement("div",null,"Select an item from the list")}}]),t}(r.Component),W=(a(1086),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={selectedItemId:a.props.selectedItemId},a.selectItem=function(e){a.setState({selectedItemId:e}),a.props.onItemSelected(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedItemId,a=this.props,r=a.data,c=a.renderItem,o=r.map((function(a){var r="list-group-item";return a.id===t&&(r+=" active"),n.a.createElement("li",{className:r,key:a.id,onClick:function(){return e.selectItem(a.id)}},c(a))}));return n.a.createElement("ul",{className:"list-group item-list"},o)}}]),t}(r.Component));W.defaultProps={onItemSelected:function(){},renderItem:function(e){return e.name}};var B=W,F=function(e){return function(t){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={data:null,isLoading:!0,error:null},t.onError=function(e){t.setState({isLoading:!1,error:e})},t}return Object(m.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){this.props.getData!==e.getData&&this.updateData()}},{key:"updateData",value:function(){var e=this;this.setState({isLoading:!0,error:null}),this.props.getData().then((function(t){e.setState({data:t,isLoading:!1})})).catch(this.onError)}},{key:"render",value:function(){var t=this.state,a=t.isLoading,r=t.error,c=t.data;return r?n.a.createElement(I,{error:r}):a?n.a.createElement(x,null):n.a.createElement(e,Object.assign({},this.props,{data:c}))}}]),a}(r.Component)},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.hasError?n.a.createElement(I,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component),Y=(a(1087),L({getData:"getPerson"})(U)),G=L({getData:"getAllPeople"})(F(B)),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={personId:null},a.selectPerson=function(e){a.setState({personId:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.personId,t=n.a.createElement(G,{selectedItemId:e,onItemSelected:this.selectPerson,renderItem:function(e){return"".concat(e.name)}}),a=n.a.createElement(Y,{itemId:e},n.a.createElement(R,{field:"height",label:"Height"}),n.a.createElement(R,{field:"gender",label:"Gender"}),n.a.createElement(R,{field:"birthYear",label:"Birthyear"}),n.a.createElement(R,{field:"eyeColor",label:"Eye Color"}),n.a.createElement(R,{field:"hairColor",label:"Hair Color"}));return n.a.createElement("div",{className:"people-page"},n.a.createElement("h2",{className:"mt-4"},"People"),n.a.createElement(H,null,n.a.createElement(T,{left:t,right:a})))}}]),t}(r.Component),X=L({getData:"getPlanet"})(U),$=L({getData:"getAllPlanets"})(F(B)),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={planetId:null},a.selectPlanet=function(e){a.setState({planetId:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.planetId,t=n.a.createElement($,{selectedItemId:e,onItemSelected:this.selectPlanet}),a=n.a.createElement(X,{itemId:e},n.a.createElement(R,{field:"name",label:"Name"}),n.a.createElement(R,{field:"diameter",label:"Diameter"}),n.a.createElement(R,{field:"population",label:"Population"}));return n.a.createElement("div",{className:"planets-page"},n.a.createElement("h2",{className:"mt-4"},"Planets"),n.a.createElement(H,null,n.a.createElement(T,{left:t,right:a})))}}]),t}(r.Component),z=L({getData:"getShip"})(U),K=L({getData:"getAllShips"})(F(B)),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={starshipId:null},a.selectStarship=function(e){a.setState({starshipId:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.starshipId,t=n.a.createElement(K,{selectedItemId:e,onItemSelected:this.selectStarship}),a=n.a.createElement(z,{itemId:e},n.a.createElement(R,{field:"model",label:"Model"}),n.a.createElement(R,{field:"manufacturer",label:"Manufacturer"}),n.a.createElement(R,{field:"class",label:"Class"}),n.a.createElement(R,{field:"cost",label:"Cost"},(function(e){return"".concat(Number(e).toLocaleString()," credits")})),n.a.createElement(R,{field:"hyperdrive",label:"Hyperdrive Rating"}),n.a.createElement(R,{field:"mglt",label:"MGLT"},(function(e){return Number(e).toFixed(2)})),n.a.createElement(R,{field:"length",label:"Length"},(function(e){return"".concat(Number(e).toLocaleString(),"m")})),n.a.createElement(R,{field:"cargo",label:"Cargo Capacity"},(function(e){return"".concat(Number(e).toLocaleString()," metric tons")})),n.a.createElement(R,{field:"crew",label:"Minimum Crew"},(function(e){return Number(e).toLocaleString()})),n.a.createElement(R,{field:"passengers",label:"Passengers"},(function(e){return Number(e).toLocaleString()})));return n.a.createElement("div",{className:"starships-page"},n.a.createElement("h2",{className:"mt-4"},"Starships"),n.a.createElement(H,null,n.a.createElement(T,{left:t,right:a})))}}]),t}(r.Component);function V(){return n.a.createElement("div",null,n.a.createElement("h1",null,"404 Page Not Found"))}function Z(){return n.a.createElement(N.c,null,n.a.createElement(N.a,{path:"/",exact:!0,component:M}),n.a.createElement(N.a,{path:"/planets",component:q}),n.a.createElement(N.a,{path:"/people",component:J}),n.a.createElement(N.a,{path:"/starships",component:Q}),n.a.createElement(N.a,{path:"*",component:V}))}var ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={apiService:new w},a.toggleService=function(){a.setState((function(e){return{apiService:new(e.apiService instanceof k?w:k)}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.apiService,t=e instanceof k?"Server":"Mock";return document.title="Star Wars DB using ".concat(t," API"),n.a.createElement(d.Provider,{value:e},n.a.createElement(p.a,null,n.a.createElement("div",{className:"container"},n.a.createElement(h,{onServiceChange:this.toggleService,serviceName:t}),n.a.createElement(Z,null))))}}]),t}(r.Component);o.a.render(n.a.createElement(ee,null),document.getElementById("root"))},23:function(e,t,a){e.exports=a(1088)}},[[23,1,2]]]);
//# sourceMappingURL=main.19995c8b.chunk.js.map